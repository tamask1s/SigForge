FileOpen(c:/NagyAbrahamDorina0201.bdf, Data1);

DataIn(Data1, channels, 4 8);
DataIn(Data1, channel_to_extract, 3);

Substract(channels, channel_to_extract);

CreateFilter(filter_notch, butt bs, 2 2000, 49.9 50.1, 0, 0);
CreateFilter(filter_low_pass, butt lp, 2 2000, 40, 0, 0);
CreateFilter(filter_high_pass, butt hp, 2 2000, 2, 0, 0);

Filter(channels, filter_notch);
Filter(channels, filter_low_pass);
Filter(channels, filter_high_pass);

MeanSpectrum(channels, 
             spectraout, 
             CopyForAllChannels(channels, 4), 
             CopyForAllChannels(channels, 16));

DisplayData(spectraout, fit_width);
DisplayData(channels);

SaveDataToFile(channels, c:/channels.bdf, 100);